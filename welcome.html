<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>[Typeform] Widget embed API example</title>
    <style data-styled="active" data-styled-version="5.1.1"></style>
</head>

<body>
<div id="debug"></div>
<div id="my-embedded-typeform" style="height: 100%">
    <div class="widget__WidgetWrapper-sc-1rxjz1n-0 NwqzB">
        <div class="widget__IframeWrapper-sc-1rxjz1n-2 cKLpKc">
            <iframe frameborder="0" height="100%"
                    src="https://dmed437902.typeform.com/to/LcjrSmn0?userid=%D1%84%D1%8B%D0%B2%D0%B0%D0%BF%D1%80%D0%BE&amp;typeform-embed=embed-widget&amp;typeform-source=solohin.github.io&amp;typeform-medium=embed-sdk&amp;embed-hide-footer=true&amp;embed-hide-headers=true&amp;embed-opacity=0&amp;typeform-embed-id=tljzt"
                    width="100%" allow="camera; microphone; autoplay; encrypted-media; fullscreen;" data-qa="iframe"
                    title="typeform-embed" style="border: 0px;"></iframe>
        </div>
    </div>
</div>


<script src="https://embed.typeform.com/embed.js" type="text/javascript"></script>
<script>
    var urlParams = new URLSearchParams(window.location.search);
    const USER_ID_PARAM = 'userid'
    if (!urlParams.get(USER_ID_PARAM)) {
        document.getElementById('debug').innerHTML = 'No userID! Location is ' + window.location
    }

    window.addEventListener("DOMContentLoaded", function () {
        var el = document.getElementById("my-embedded-typeform");

        // When instantiating a widget embed, you must provide the DOM element
        // that will contain your typeform, the URL of your typeform, and your
        // desired embed settings
        window.typeformEmbed.makeWidget(el, "https://dmed437902.typeform.com/to/LcjrSmn0?" + USER_ID_PARAM + "=" + urlParams.get(USER_ID_PARAM), {
            hideFooter: true,
            hideHeaders: true,
            opacity: 0,
            onSubmit: function () {
                window.webkit.messageHandlers.callbackHandler.postMessage('The form is submitted');
            }
        });
    });
</script>


<div></div>
</body>
</html>